(function(b){b.fn.extend({flexslider:function(a){var u={animation:"fade",slideshow:true,slideshowSpeed:7000,animationDuration:500,directionNav:true,controlNav:true,keyboardNav:true,touchSwipe:true,prevText:"Previous",nextText:"Next",randomize:false,slideToStart:0,pauseOnAction:true,pauseOnHover:false,controlsContainer:"",manualControls:""};var a=b.extend(u,a),z=this,A=b(".slides",z),B=b(".slides li",z),x=B.length;ANIMATING=false,currentSlide=a.slideToStart;if(a.randomize&&x>1){B.sort(function(){return(Math.round(Math.random())-0.5)});A.empty().append(B)}if(a.animation.toLowerCase()=="slide"&&x>1){z.css({overflow:"hidden"});A.append(B.filter(":first").clone().addClass("clone")).prepend(B.filter(":last").clone().addClass("clone"));A.width(((x+2)*z.width())+2000);var w=b(".slides li",z);setTimeout(function(){w.width(z.width()).css({"float":"left"}).show()},100);A.css({marginLeft:(-1*(currentSlide+1))*z.width()+"px"})}else{B.hide().eq(currentSlide).fadeIn(400)}function j(c){if(!ANIMATING){ANIMATING=true;if(a.animation.toLowerCase()=="slide"){if(currentSlide==0&&c==x-1){A.animate({marginLeft:"0px"},a.animationDuration,function(){A.css({marginLeft:(-1*x)*B.filter(":first").width()+"px"});ANIMATING=false;currentSlide=c})}else{if(currentSlide==x-1&&c==0){A.animate({marginLeft:(-1*(x+1))*B.filter(":first").width()+"px"},a.animationDuration,function(){A.css({marginLeft:-1*B.filter(":first").width()+"px"});ANIMATING=false;currentSlide=c})}else{A.animate({marginLeft:(-1*(c+1))*B.filter(":first").width()+"px"},a.animationDuration,function(){ANIMATING=false;currentSlide=c})}}}else{if(a.animation.toLowerCase()=="show"){B.eq(currentSlide).hide();B.eq(c).show();ANIMATING=false;currentSlide=c}else{z.css({minHeight:B.eq(currentSlide).height()});B.eq(currentSlide).fadeOut(a.animationDuration,function(){B.eq(c).fadeIn(a.animationDuration,function(){ANIMATING=false;currentSlide=c});z.css({minHeight:"inherit"})})}}}}if(a.controlNav&&x>1){if(a.manualControls!=""&&b(a.manualControls).length>0){var y=b(a.manualControls)}else{var y=b('<ol class="flex-control-nav"></ol>');var t=1;for(var s=0;s<x;s++){y.append("<li><a>"+t+"</a></li>");t++}if(a.controlsContainer!=""&&b(a.controlsContainer).length>0){b(a.controlsContainer).append(y)}else{z.append(y)}y=b(".flex-control-nav li a")}y.eq(currentSlide).addClass("active");y.click(function(c){c.preventDefault();if(b(this).hasClass("active")||ANIMATING){return}else{y.removeClass("active");b(this).addClass("active");var d=y.index(b(this));j(d);if(a.pauseOnAction){clearInterval(r)}}})}if(a.directionNav&&x>1){if(a.controlsContainer!=""&&b(a.controlsContainer).length>0){b(a.controlsContainer).append(b('<ul class="flex-direction-nav"><li><a class="prev" href="#">'+a.prevText+'</a></li><li><a class="next" href="#">'+a.nextText+"</a></li></ul>"))}else{z.append(b('<ul class="flex-direction-nav"><li><a class="prev" href="#">'+a.prevText+'</a></li><li><a class="next" href="#">'+a.nextText+"</a></li></ul>"))}b(".flex-direction-nav li a").click(function(d){d.preventDefault();if(ANIMATING){return}else{if(b(this).hasClass("next")){var c=(currentSlide==x-1)?0:currentSlide+1}else{var c=(currentSlide==0)?x-1:currentSlide-1}if(a.controlNav){y.removeClass("active");y.eq(c).addClass("active")}j(c);if(a.pauseOnAction){clearInterval(r)}}})}if(a.keyboardNav&&x>1){b(document).keyup(function(d){if(ANIMATING){return}else{if(d.keyCode!=39&&d.keyCode!=37){return}else{if(d.keyCode==39){var c=(currentSlide==x-1)?0:currentSlide+1}else{if(d.keyCode==37){var c=(currentSlide==0)?x-1:currentSlide-1}}if(a.controlNav){y.removeClass("active");y.eq(c).addClass("active")}j(c);if(a.pauseOnAction){clearInterval(r)}}}})}if(a.slideshow&&x>1){var r;function i(){if(ANIMATING){return}else{var c=(currentSlide==x-1)?0:currentSlide+1;if(a.controlNav){y.removeClass("active");y.eq(c).addClass("active")}j(c)}}if(a.pauseOnHover){z.hover(function(){clearInterval(r)},function(){r=setInterval(i,a.slideshowSpeed)})}if(x>1){r=setInterval(i,a.slideshowSpeed)}}if(a.touchSwipe&&"ontouchstart" in document.documentElement&&x>1){z.each(function(){var e,c=20;isMoving=false;function d(){this.removeEventListener("touchmove",g);e=null;isMoving=false}function g(m){if(isMoving){var l=m.touches[0].pageX,k=e-l;if(Math.abs(k)>=c){d();if(k>0){var h=(currentSlide==x-1)?0:currentSlide+1}else{var h=(currentSlide==0)?x-1:currentSlide-1}if(a.controlNav){y.removeClass("active");y.eq(h).addClass("active")}j(h);if(a.pauseOnAction){clearInterval(r)}}}}function f(h){if(h.touches.length==1){e=h.touches[0].pageX;isMoving=true;this.addEventListener("touchmove",g,false)}}if("ontouchstart" in document.documentElement){this.addEventListener("touchstart",f,false)}})}if(a.animation.toLowerCase()=="slide"&&x>1){var v;b(window).resize(function(){w.width(z.width());A.width(((x+2)*z.width())+2000);clearTimeout(v);v=setTimeout(function(){j(currentSlide)},300)})}}})})(jQuery);